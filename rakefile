# encoding: UTF-8
require 'rake'
$:.push File.expand_path("../lib", __FILE__)

# irb
desc "Run bioinfo in irb"
task :irb do
  system "irb -I #{File.expand_path("../lib", __FILE__)} -r bioinfo -r irb/completion --simple-prompt"
end

# test
require 'rake/testtask'
Rake::TestTask.new do |t|
  t.test_files = FileList["test/**/test*.rb"]
end

# issue
desc "Run tests for current issue"
task :issue do
  current_issue = "test/databases/test_hgnc.rb"
  system ("rake test TEST=" + current_issue)
end

# clean
desc "Clean the directory"
task :clean do
  [".yardoc", "doc", "log", "tmp", "data", "*.gem"].each do |f|
    FileUtils.rm_r(f) rescue nil
  end
end

# gem
desc "Build the gem"
task :gem do
  system("gem build #{File.dirname(__FILE__)}" + "/bioinfo.gemspec")
end

# install
desc "Install the gem"
task :install => :gem do
  require 'bioinfo'
  system("gem install bioinfo-#{Bioinfo::VERSION}.gem --no-rdoc --no-ri")
end

# uninstall
desc "Uninstall the gem"
task :uninstall do
  system("gem uninstall bioinfo")
end
